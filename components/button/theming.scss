$button__focus-light-overlay: rgba(white, 0.30);
$button__focus-dark-overlay: rgba(black, 0.12);
$button__dark-background-focus-overlay: rgba(white, 0.20);

@mixin buttonLightThemeVariables($color, $value: "var(--color)") {
  --button__active-color: rgba(black, 0.54);
  --button__inactive-color: rgba(black, 0.38);
  --button__press-color: rgba(#999, 0.40);
  --button__ripple-color: rgba(black, 0.12);
  --button__filled-ripple-color: rgba(black, 0.12);
  --button__focus-overlay: $button__focus-dark-overlay;
  --button__disabled-text-color: rgba(#000, 0.26); 
  --button__disabled-background-color: rgba(#000, 0.12);
  --button__colored-focus-overlay: unquote("rgba(#{$value}, 0.12)");
  --button__colored-press-color: unquote("rgba(#{$value}, 0.40)");
}

@mixin buttonDarkThemeVariables($color, $value: "var(--color)") {
  --button__active-color: rgba(white, 1.0);
  --button__inactive-color: rgba(white, 0.50);
  --button__press-color: rgba(#CCC, 0.25);
  @if ($color == 'background') {
    --button__ripple-color: rgba(white, 0.20);
    --button__focus-overlay: $button__dark-background-focus-overlay;
  } @else {
    --button__ripple-color: rgba(white, 0.30);
    --button__focus-overlay: $button__focus-dark-overlay;
  }
  --button__disabled-text-color: rgba(#fff, 0.30);
  --button__disabled-background-color: rgba(#fff, 0.12);
  --button__colored-focus-overlay: unquote("rgba(#{$value}, 0.12)");
  --button__colored-press-color: unquote("rgba(#{$value}, 0.25)");
}

@mixin buttonThemeRules($value: "var(--color)") {
  .mdw-button {
    color: var(--primary-text-color);
    &[mdw-active] {
      color: var(--button__active-color);
    }
    &[mdw-inactive] {
      color: var(--button__inactive-color);
    }
    &::before {
      background-image: radial-gradient(
        circle at center,
        transparent 10%,
        var(--button__ripple-color) 10.0001%
      );
      background-color: transparent;
    }
    &:active::before,
    &:active:focus::before {
      background-color: var(--button__press-color);
    }
    &.mdw-theme__colored {
      --button__ripple-color: unquote("rgba(#{$value}, 0.26)");
      &:focus:not(:active)::before {
        background-color: unquote("rgba(#{$value}, 0.12)");
      }
      &:focus:active::before,
      &:active::before {
        background-color: unquote("rgba(#{$value}, 0.20)");
      }
    }
    &:focus:not(:active)::before {
      background-color: var(--button__focus-overlay);
    }
    &[mdw-icon]:focus:not(:active)::before {
      background-color: var(--button__ripple-color);
    }
    & > .mdw-ripple,
    &::after {
      background-image: radial-gradient(
        circle at center,
        var(--button__ripple-color) 10%,
        transparent 10.0001%
      );
    }
    &[disabled],
    &.mdw-button.mdw-theme__colored[disabled], {
      color: var(--button__disabled-text-color)
    }
  }
  .mdw-button.mdw-theme__filled {
    &[mdw-color="primary"] {
      --button__press-color: unquote("rgb(var(--primary-700-color))");
    }
    &[mdw-color="accent"] {
      --button__press-color: unquote("rgb(var(--accent-700-color))");
    }
    &[mdw-color="warn"] {
      --button__press-color: unquote("rgb(var(--warn-700-color))");
    }
    &[disabled] {
      // Disabled filled buttons use parent's variables
      --button__disabled-text-color: inherit;
      --button__disabled-background-color: inherit;
      background-color: var(--button__disabled-background-color);
    }
  }
}